<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>framework_Jin-new_server: Server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">framework_Jin-new_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The class of all server using rpclib.  
 <a href="classServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Server_8hpp_source.html">Server.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Server:</div>
<div class="dyncontent">
<div class="center"><img src="classServer__coll__graph.png" border="0" usemap="#Server_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structServer_1_1Session.html">Session</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An structure for session including session id and its type.  <a href="structServer_1_1Session.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a574f6493828dccb18a0ca6a86ee7dfa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a574f6493828dccb18a0ca6a86ee7dfa4">Server</a> (int port, <a class="el" href="main_8hpp.html#a4cb9f4bcd812094244f1949a88671bb8">SimulatorState</a> &amp;<a class="el" href="classServer.html#a1e6a901e88f3a8b2d2fea253e32952e4">simulatorState</a>, <a class="el" href="Server_8hpp.html#a49cc8333bde52a7f1eb36bdb3e4e8a06">InputDictionary</a> &amp;<a class="el" href="classServer.html#a3d62b0bc3c31161790b118717a4c4718">humanInputs</a>, <a class="el" href="Server_8hpp.html#acc6d6e73aa06631da7c2f627f9979d64">AgentDictionary</a> &amp;<a class="el" href="classServer.html#ae45bd58f8585e0c47e5140a055cad09c">agentDictionary</a>, std::mutex &amp;<a class="el" href="classServer.html#a9a508fe15f3a6e3b2e3750b0ff2d5798">mutex</a>)</td></tr>
<tr class="separator:a574f6493828dccb18a0ca6a86ee7dfa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:abb49932aed3c7683040e1a463e25c36c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#abb49932aed3c7683040e1a463e25c36c">SessionType</a> { <a class="el" href="classServer.html#abb49932aed3c7683040e1a463e25c36ca5927e9d71a6843a513199c25c2c62f82">Rendering</a> = 0, 
<a class="el" href="classServer.html#abb49932aed3c7683040e1a463e25c36cae387e75adf857bbe8390734f939efbdf">Input</a> = 1
 }</td></tr>
<tr class="separator:abb49932aed3c7683040e1a463e25c36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b3a89ca943df0f41fdf902a0c2147f3"><td class="memItemLeft" align="right" valign="top">typedef std::pair&lt; <a class="el" href="structServer_1_1Session.html">Session</a> *, <a class="el" href="classAgent.html">Agent</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a5b3a89ca943df0f41fdf902a0c2147f3">SessionAgentPair</a></td></tr>
<tr class="separator:a5b3a89ca943df0f41fdf902a0c2147f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a075ea5a350e5b6052dc621411526e469"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a075ea5a350e5b6052dc621411526e469">respondManager</a> (const string &amp;requestJson)</td></tr>
<tr class="separator:a075ea5a350e5b6052dc621411526e469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad542ec541766a9524fcf7d4569699c4e"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ad542ec541766a9524fcf7d4569699c4e">respondRendering</a> (const string &amp;requestJson)</td></tr>
<tr class="separator:ad542ec541766a9524fcf7d4569699c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a908709257a0191b87ac66aa509d11140"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a908709257a0191b87ac66aa509d11140">respondInput</a> (const string &amp;requestJson)</td></tr>
<tr class="separator:a908709257a0191b87ac66aa509d11140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76481ef963d4dc3478b72edd1c164f7a"><td class="memItemLeft" align="right" valign="top">Json::Value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a76481ef963d4dc3478b72edd1c164f7a">getSessionInfo</a> (bool withLock=true) const </td></tr>
<tr class="separator:a76481ef963d4dc3478b72edd1c164f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c116bd269521368538c5d4836b43f9b"><td class="memItemLeft" align="right" valign="top">Json::Value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a7c116bd269521368538c5d4836b43f9b">getAgentInfo</a> (bool withLock=true) const </td></tr>
<tr class="separator:a7c116bd269521368538c5d4836b43f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8def8e7ae4ee50c38c612e6ded9f9c94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classAgent.html">Agent</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a8def8e7ae4ee50c38c612e6ded9f9c94">findAgentById</a> (int id) const </td></tr>
<tr class="separator:a8def8e7ae4ee50c38c612e6ded9f9c94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad43e988ffc6fb0398db3191309ff0eee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structServer_1_1Session.html">Session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ad43e988ffc6fb0398db3191309ff0eee">findSessionById</a> (int id) const </td></tr>
<tr class="separator:ad43e988ffc6fb0398db3191309ff0eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:af46e68595c4f0729d5cb4f72f4fd6e28"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="Agent_8hpp.html#a5dd127bb3cb18b011cf5fd80a906e830">Vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#af46e68595c4f0729d5cb4f72f4fd6e28">Json2Vector</a> (const Json::Value &amp;val)</td></tr>
<tr class="separator:af46e68595c4f0729d5cb4f72f4fd6e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58496ca71e4c467209c98ac1af02994"><td class="memItemLeft" align="right" valign="top">static Json::Value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ae58496ca71e4c467209c98ac1af02994">Vector2Json</a> (const <a class="el" href="Agent_8hpp.html#a5dd127bb3cb18b011cf5fd80a906e830">Vector</a> &amp;vec)</td></tr>
<tr class="separator:ae58496ca71e4c467209c98ac1af02994"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a3f6f17fe0e321f0e4fc6bed80a5efc3d"><td class="memItemLeft" align="right" valign="top">rpc::server&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a3f6f17fe0e321f0e4fc6bed80a5efc3d">server</a></td></tr>
<tr class="separator:a3f6f17fe0e321f0e4fc6bed80a5efc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6a901e88f3a8b2d2fea253e32952e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="main_8hpp.html#a4cb9f4bcd812094244f1949a88671bb8">SimulatorState</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a1e6a901e88f3a8b2d2fea253e32952e4">simulatorState</a></td></tr>
<tr class="separator:a1e6a901e88f3a8b2d2fea253e32952e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45bd58f8585e0c47e5140a055cad09c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Server_8hpp.html#acc6d6e73aa06631da7c2f627f9979d64">AgentDictionary</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ae45bd58f8585e0c47e5140a055cad09c">agentDictionary</a></td></tr>
<tr class="separator:ae45bd58f8585e0c47e5140a055cad09c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a508fe15f3a6e3b2e3750b0ff2d5798"><td class="memItemLeft" align="right" valign="top">std::mutex &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a9a508fe15f3a6e3b2e3750b0ff2d5798">mutex</a></td></tr>
<tr class="separator:a9a508fe15f3a6e3b2e3750b0ff2d5798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d62b0bc3c31161790b118717a4c4718"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Server_8hpp.html#a49cc8333bde52a7f1eb36bdb3e4e8a06">InputDictionary</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#a3d62b0bc3c31161790b118717a4c4718">humanInputs</a></td></tr>
<tr class="separator:a3d62b0bc3c31161790b118717a4c4718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad19c76785348bfd91a941aa78ef6a35c"><td class="memItemLeft" align="right" valign="top">map&lt; <a class="el" href="structServer_1_1Session.html">Session</a> *, <a class="el" href="classAgent.html">Agent</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ad19c76785348bfd91a941aa78ef6a35c">sessionAgentMap</a></td></tr>
<tr class="separator:ad19c76785348bfd91a941aa78ef6a35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac179860cef2427f743ff1daefa881eb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#ac179860cef2427f743ff1daefa881eb2">agentIdCounter</a></td></tr>
<tr class="separator:ac179860cef2427f743ff1daefa881eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcdb8b5ca33795cdd8f252cf4c3e4f0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classServer.html#abcdb8b5ca33795cdd8f252cf4c3e4f0f">sessionIdCounter</a></td></tr>
<tr class="separator:abcdb8b5ca33795cdd8f252cf4c3e4f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The class of all server using rpclib. </p>
<p>It have three kinds of services for input, manager and rendering. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a5b3a89ca943df0f41fdf902a0c2147f3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;<a class="el" href="structServer_1_1Session.html">Session</a>*, <a class="el" href="classAgent.html">Agent</a>*&gt; <a class="el" href="classServer.html#a5b3a89ca943df0f41fdf902a0c2147f3">Server::SessionAgentPair</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="abb49932aed3c7683040e1a463e25c36c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classServer.html#abb49932aed3c7683040e1a463e25c36c">Server::SessionType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An enum type It represent to the session type. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="abb49932aed3c7683040e1a463e25c36ca5927e9d71a6843a513199c25c2c62f82"></a>Rendering&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="abb49932aed3c7683040e1a463e25c36cae387e75adf857bbe8390734f939efbdf"></a>Input&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a574f6493828dccb18a0ca6a86ee7dfa4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Server::Server </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="main_8hpp.html#a4cb9f4bcd812094244f1949a88671bb8">SimulatorState</a> &amp;&#160;</td>
          <td class="paramname"><em>simulatorState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Server_8hpp.html#a49cc8333bde52a7f1eb36bdb3e4e8a06">InputDictionary</a> &amp;&#160;</td>
          <td class="paramname"><em>humanInputs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Server_8hpp.html#acc6d6e73aa06631da7c2f627f9979d64">AgentDictionary</a> &amp;&#160;</td>
          <td class="paramname"><em>agentDictionary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::mutex &amp;&#160;</td>
          <td class="paramname"><em>mutex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>port for simulation. </td></tr>
    <tr><td class="paramname">simulatorState</td><td>reference to the simulator state, an enumerator. </td></tr>
    <tr><td class="paramname">humanInputs</td><td>reference to a map from agent to pertaining vector human input. </td></tr>
    <tr><td class="paramname">agentDictionary</td><td>reference to a map from agent to pertaining controller, model, and planner. </td></tr>
    <tr><td class="paramname">mutex</td><td>reference to a global mutex lock, which avoids thread conflicts. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a8def8e7ae4ee50c38c612e6ded9f9c94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAgent.html">Agent</a> * Server::findAgentById </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find an agent in the simulator by its id. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the agent to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to that agent </dd></dl>

</div>
</div>
<a class="anchor" id="ad43e988ffc6fb0398db3191309ff0eee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structServer_1_1Session.html">Server::Session</a> * Server::findSessionById </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find a session in the simulator by its id. <a class="el" href="structServer_1_1Session.html" title="An structure for session including session id and its type. ">Session</a> is an abstraction of a connection socket to a client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>id of the session to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to that session </dd></dl>

</div>
</div>
<a class="anchor" id="a7c116bd269521368538c5d4836b43f9b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Json::Value Server::getAgentInfo </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>withLock</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the information of all agents in the simulator </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">withLock</td><td>should use mutex lock or not </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>agent information serialized in Json format </dd></dl>

</div>
</div>
<a class="anchor" id="a76481ef963d4dc3478b72edd1c164f7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Json::Value Server::getSessionInfo </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>withLock</em> = <code>true</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the information of all sessions in the simulator </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">withLock</td><td>should use mutex lock or not </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>agent information serialized in Json format </dd></dl>

</div>
</div>
<a class="anchor" id="af46e68595c4f0729d5cb4f72f4fd6e28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Agent_8hpp.html#a5dd127bb3cb18b011cf5fd80a906e830">Vector</a> Server::Json2Vector </td>
          <td>(</td>
          <td class="paramtype">const Json::Value &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert a std::vector&lt;double&gt; to a Json::Value </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>a json value (defined in jsoncpp library) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a STL vector </dd></dl>

</div>
</div>
<a class="anchor" id="a908709257a0191b87ac66aa509d11140"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Server::respondInput </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>requestJson</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Respond to a request from a client for input hardware it have two commands: "newSession" if the client connects for the first time, and requests a new session. "updateInput" if the client already has a session, and updates the input vector. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requestJson</td><td>request string in Json format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>response string in Json format </dd></dl>

</div>
</div>
<a class="anchor" id="a075ea5a350e5b6052dc621411526e469"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Server::respondManager </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>requestJson</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Respond to a request from a manager client, who controls the simulator server. it have various command: "pause" "start" "reset" if the manager wants to change the state of the simulator. "startvc" if the manager wants to add the virtual car into the simulator. "getAgents" "getSessions" if the manager wants to get information of all agents or all sessions. "getTimes" if the manager wants to get the times that the simulator have updated. "getTime" if the manager wants to get the time that the simulator cost for last updating state. "addAgent" if the manager wants to add an agent dynamically.. "bindAgentToSession" if the manager wants to bind an agent to a session dynamically. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requestJson</td><td>request string in Json format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>response string in Json format </dd></dl>

</div>
</div>
<a class="anchor" id="ad542ec541766a9524fcf7d4569699c4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string Server::respondRendering </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>requestJson</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Respond to a request from a client for rendering in UE4 it have two commands: "newSession" if the client connects for the first time, and requests a new session. "getAgents" if the client already has a session, and gets the agent information. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">requestJson</td><td>request string in Json format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>response string in Json format </dd></dl>

</div>
</div>
<a class="anchor" id="ae58496ca71e4c467209c98ac1af02994"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Json::Value Server::Vector2Json </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="Agent_8hpp.html#a5dd127bb3cb18b011cf5fd80a906e830">Vector</a> &amp;&#160;</td>
          <td class="paramname"><em>vec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert a Json::Value to a std::vector </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vec</td><td>a STL vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a json value (defined in jsoncpp library) </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae45bd58f8585e0c47e5140a055cad09c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Server_8hpp.html#acc6d6e73aa06631da7c2f627f9979d64">AgentDictionary</a>&amp; Server::agentDictionary</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reference to a map from agent to pertaining controller, model, and planner. </p>

</div>
</div>
<a class="anchor" id="ac179860cef2427f743ff1daefa881eb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Server::agentIdCounter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>an counter for agent to get different id for agents </p>

</div>
</div>
<a class="anchor" id="a3d62b0bc3c31161790b118717a4c4718"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Server_8hpp.html#a49cc8333bde52a7f1eb36bdb3e4e8a06">InputDictionary</a>&amp; Server::humanInputs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reference to a map from agent to pertaining vector human input. </p>

</div>
</div>
<a class="anchor" id="a9a508fe15f3a6e3b2e3750b0ff2d5798"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex&amp; Server::mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reference to a global mutex lock, which avoids thread conflicts. </p>

</div>
</div>
<a class="anchor" id="a3f6f17fe0e321f0e4fc6bed80a5efc3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rpc::server Server::server</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>server of rpclib </p>

</div>
</div>
<a class="anchor" id="ad19c76785348bfd91a941aa78ef6a35c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">map&lt;<a class="el" href="structServer_1_1Session.html">Session</a>*, <a class="el" href="classAgent.html">Agent</a>*&gt; Server::sessionAgentMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abcdb8b5ca33795cdd8f252cf4c3e4f0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Server::sessionIdCounter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>an counter for session to get different id for session </p>

</div>
</div>
<a class="anchor" id="a1e6a901e88f3a8b2d2fea253e32952e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="main_8hpp.html#a4cb9f4bcd812094244f1949a88671bb8">SimulatorState</a>&amp; Server::simulatorState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reference to the simulator state, an enumerator. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Server/<a class="el" href="Server_8hpp_source.html">Server.hpp</a></li>
<li>Server/<a class="el" href="Server_8cpp.html">Server.cpp</a></li>
<li>Server/<a class="el" href="ServerRespondInput_8cpp.html">ServerRespondInput.cpp</a></li>
<li>Server/<a class="el" href="ServerRespondManager_8cpp.html">ServerRespondManager.cpp</a></li>
<li>Server/<a class="el" href="ServerRespondRendering_8cpp.html">ServerRespondRendering.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
