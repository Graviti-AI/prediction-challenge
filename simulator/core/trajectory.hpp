#pragma once
#include <string>
#include <vector>

namespace core {

struct State {
    uint64_t track_id;
    uint64_t frame_id;
    uint64_t timestamp_ms;
    std::string agent_type;
    double x;
    double y;
    double vx;
    double vy;
    double psi_rad;
    double length;
    double width;
    double jerk;
    uint64_t current_lanelet_id;
    double s_of_current_lanelet;
    double d_of_current_lanelet;
};

typedef std::vector<State*> Trajectory;

struct Obstacle {
    uint64_t agent_id;
    Trajectory point_in; // list of States describing the points within the obstacle
    double distance;
    bool yielding;
};

struct SimulationEnv {
    Trajectory my_traj;
    std::string map_name;
    std::vector<Trajectory> other_trajs;

    // For Predictor only. Planned trajectory generated by Planner.
    Trajectory planned_trajectory;

    // For Planner only.
    Trajectory reference_points;
    Trajectory human_input;
    std::vector<Obstacle> obstacle_info;

    bool paused;    // whether the simulator has paused.
};

} // namespace core
